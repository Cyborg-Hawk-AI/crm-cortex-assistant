@layer components {
  .command-card {
    @apply bg-card rounded-lg border border-border shadow-md hover:shadow-lg transition-all duration-300;
  }
  .action-button {
    @apply bg-gradient-to-r from-primary to-primary/80 text-primary-foreground font-medium px-4 py-2 rounded-md shadow-md hover:shadow-[0_0_12px_rgba(136,217,206,0.5)] hover:brightness-110 transition-all duration-300;
  }
  .tab-button {
    @apply px-4 py-2 rounded-md transition-colors;
  }
  .tab-button.active {
    @apply bg-card shadow-md;
  }
  .ai-message {
    @apply bg-gradient-to-r from-primary to-primary/80 text-primary-foreground p-4 rounded-lg shadow-md;
  }
  .user-message {
    @apply bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground p-4 rounded-lg shadow-md;
  }
  .status-badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  }
  .pulse-border {
    animation: pulseBorder 2s infinite;
  }
  .missions-card {
    @apply bg-card border border-border rounded-lg shadow-md hover:shadow-lg transition-all p-4;
  }
  .mindboard-card {
    @apply bg-card border border-border rounded-lg shadow-md hover:shadow-lg transition-all p-4;
  }
  .syncup-card {
    @apply bg-card border border-border rounded-lg shadow-md hover:shadow-lg transition-all p-4;
  }
  .actionbot-card {
    @apply bg-gradient-to-r from-card to-background border border-border/20 rounded-lg shadow-md hover:shadow-[0_0_15px_rgba(136,217,206,0.3)] transition-all;
  }
  
  /* Dark mode specific adjustments */
  [data-theme="dark"] .missions-card,
  [data-theme="dark"] .mindboard-card,
  [data-theme="dark"] .syncup-card {
    @apply shadow-[0_2px_8px_rgba(0,0,0,0.4)];
  }
  
  [data-theme="dark"] .action-button {
    @apply hover:shadow-[0_0_12px_rgba(0,247,239,0.4)];
  }
  
  [data-theme="dark"] .actionbot-card {
    @apply shadow-[0_2px_8px_rgba(0,0,0,0.4)] hover:shadow-[0_0_15px_rgba(0,247,239,0.2)];
  }

  /* Dropdown menu dark mode improvements */
  [data-theme="dark"] .dropdown-menu {
    @apply bg-popover border border-border shadow-[0_4px_12px_rgba(0,0,0,0.3)] backdrop-blur-sm;
  }
  
  /* Transition improvements */
  .theme-transition * {
    @apply transition-colors duration-300;
  }

  /* Button hover effect for dark mode */
  [data-theme="dark"] .hover-button {
    @apply hover:bg-muted/50 transition-colors duration-200;
  }

  /* Modal and dropdown transitions for dark mode */
  [data-theme="dark"] .modal-overlay {
    @apply bg-black/60 backdrop-blur-sm transition-opacity duration-300;
  }
  
  /* Improved glow effects for dark mode */
  [data-theme="dark"] .glow-effect {
    @apply shadow-[0_0_15px_rgba(0,247,239,0.15)] hover:shadow-[0_0_20px_rgba(0,247,239,0.25)] transition-shadow duration-300;
  }

  /* Glassmorphism Popover/Dropdown for Dark Mode */
  [data-theme="dark"] .dropdown-menu,
  [data-theme="dark"] .popover,
  [data-theme="dark"] .sheet-content,
  [data-theme="dark"] .card,
  [data-theme="dark"] .header,
  [data-theme="dark"] .profile-menu {
    @apply bg-[#25384D]/90 bg-gradient-to-br from-[#25384D]/95 via-[#314968]/90 to-[#2c4057]/90 border border-[#3A4D62]/80 shadow-[0_4px_24px_4px_rgba(20,40,80,0.20)] backdrop-blur-lg !important;
    z-index: 100;
  }

  /* Force dropdown menus to blend even if radix or shadcn adds classes */
  [data-theme="dark"] .dropdown-menu,
  [data-theme="dark"] .dropdown-menu-content,
  [data-theme="dark"] .radix-dropdown-menu__content {
    @apply bg-[#25384D]/95 border border-[#3A4D62]/80 shadow-[0_4px_18px_3px_rgba(0,0,0,0.29)] backdrop-blur-md text-foreground;
    z-index: 9999;
  }

  /* General card blending for dark mode */
  [data-theme="dark"] .card,
  [data-theme="dark"] .mindboard-card,
  [data-theme="dark"] .missions-card,
  [data-theme="dark"] .actionbot-card,
  [data-theme="dark"] .syncup-card {
    @apply bg-gradient-to-br from-[#2c4057]/90 via-[#25384D]/90 to-[#314968]/90 border border-[#3A4D62]/70 shadow-[0_2px_8px_rgba(0,0,0,0.45)] backdrop-blur;
  }

  /* Buttons: subtle neon-on-glass effect in dark mode */
  [data-theme="dark"] .action-button {
    @apply hover:shadow-[0_0_12px_rgba(0,247,239,0.5)] hover:bg-[#33455e]/85;
  }

  /* Theme smooth transitions for all interactive components */
  .theme-transition *, .theme-transition {
    @apply transition-colors transition-shadow transition-[background,box-shadow,border] duration-300;
  }

  /* Modal, sheet transitions and overlays for blend */
  [data-theme="dark"] .modal-overlay,
  [data-theme="dark"] .sheet-overlay {
    @apply bg-black/70 backdrop-blur-lg transition-opacity duration-300;
    z-index: 1000;
  }
}
