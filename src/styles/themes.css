
@layer base {
  .theme-transition {
    transition: background-color 0.3s cubic-bezier(0.45,0,0.55,1), 
                color 0.3s cubic-bezier(0.45,0,0.55,1),
                border-color 0.3s cubic-bezier(0.45,0,0.55,1),
                box-shadow 0.3s cubic-bezier(0.45,0,0.55,1);
  }

  /* --- LIGHT MODE --- */
  [data-theme="light"] {
    --background: 0 0% 98%; /* #F9F9F9 - Soft ivory */
    --foreground: 0 0% 25%; /* #404040 - Charcoal gray */
    --card: 0 0% 100%; /* #FFFFFF - Pure white */
    --card-foreground: 0 0% 25%; /* #404040 - Charcoal gray */
    --popover: 0 0% 100%; /* #FFFFFF - Pure white */
    --popover-foreground: 0 0% 25%; /* #404040 - Charcoal gray */
    --primary: 174 47% 69%; /* #88D9CE - Teal green */
    --primary-foreground: 168 33% 23%; /* #264E46 - Dark forest green */
    --secondary: 180 48% 85%; /* #C1EDEA - Aqua tint */
    --secondary-foreground: 168 33% 23%; /* #264E46 - Dark forest green */
    --muted: 34 11% 91%; /* #ECEAE3 - Warm sand beige */
    --muted-foreground: 0 0% 75%; /* #BFBFBF - Medium gray */
    --accent: 180 48% 85%; /* #C1EDEA - Aqua tint */
    --accent-foreground: 168 33% 23%; /* #264E46 - Dark forest green */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 75%; /* #BFBFBF */
    --input: 0 0% 75%; /* #BFBFBF */
    --ring: 174 47% 69%; /* #88D9CE */
    --radius: 0.75rem;
    --neon-red: 0 84% 60%;
    --neon-purple: 268 90% 72%;
    --neon-blue: 204 100% 65%;
    --neon-aqua: 181 100% 48%;
    --neon-green: 142 100% 68%;
    --neon-yellow: 41 100% 70%;
  }

  /* --- DARK MODE: Dashboard, Dropdown, All Surfaces Harmonized! --- */
  [data-theme="dark"] {
    --background: 210 35% 22%;    /* #25384D - Unified dark background */
    --foreground: 180 10% 92%;    /* #D9E9E7 - light teal-gray */
    --card: 210 28% 27%;          /* #314968 - slightly lighter than bg */
    --card-foreground: 180 10% 92%;
    --popover: 210 35% 22%;       /* #25384D - EXACT dropdown bg */
    --popover-foreground: 180 10% 92%;
    --primary: 178 53% 69%;       /* #86e5d6 - cyan/teal neon accent */
    --primary-foreground: 220 40% 10%; /* #171c23 for accent contrast */
    --secondary: 210 23% 30%;     /* #374f6b - a touch more contrast for cards/lists */
    --secondary-foreground: 180 10% 92%;
    --muted: 210 28% 31%;         /* #3A4D62 - input fields, muted surfaces */
    --muted-foreground: 183 8% 60%; /* #5A7370 - medium-muted text */
    --accent: 181 100% 55%;       /* #00F7EF - vibrant aqua for outlines/glow */
    --accent-foreground: 180 10% 92%;
    --destructive: 0 80% 55%;     /* #E05252 red for errors */
    --destructive-foreground: 0 0% 98%;
    --border: 210 25% 31%;        /* #3A4D62 - dropdown border */
    --input: 210 25% 31%;         /* #3A4D62 */
    --ring: 174 47% 59%;          /* #63A8A2 pale teal */
    --radius: 0.75rem;

    /* Neon palette for highlights and glows */
    --neon-red: 0 84% 60%;
    --neon-purple: 268 90% 72%;
    --neon-blue: 204 100% 65%;
    --neon-aqua: 181 100% 55%;   /* dropdown focus/active glows */
    --neon-green: 142 100% 64%;
    --neon-yellow: 41 100% 70%;
  }

  /* For Tailwind 'dark' class fallback */
  .dark {
    --background: 210 35% 22%;
    --foreground: 180 10% 92%;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    transition: background-color 0.3s cubic-bezier(0.45,0,0.55,1), color 0.3s cubic-bezier(0.45,0,0.55,1);
  }

  [data-theme="light"] body {
    background-color: #F9F9F9;
    background-image: none;
  }
  
  [data-theme="dark"] body {
    background: linear-gradient(
      120deg,
      #25384D 0%, 
      #314968 40%, 
      #2c4057 100%
    ); /* Teal steel-glass blend */
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: cover;
  }
}

